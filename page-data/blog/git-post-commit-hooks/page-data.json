{"componentChunkName":"component---src-components-blog-blog-post-tsx","path":"/blog/git-post-commit-hooks","result":{"data":{"markdownRemark":{"html":"<p>Have you ever found it difficult to remember what features or bugs you've spent the last week on? How about the\npast month, or even year?</p>\n<p>I find it hard. Sometimes It can even be hard to remember what I did by the end of a day. Luckily we have computers to help us out.</p>\n<p>Using git is a great way to track what you've done. If your commits are meaningful and frequent enough, fantastic - you can look back at these. These can behave as documented timelines providing context to your development.\nBut it's not always easy to keep track of your commits:</p>\n<ul>\n<li>What if you're using more than one git repo? </li>\n<li>What if these repos are under different Source Code Management System e.g. some are on GitHub and others GitLab? </li>\n<li>How about if you squash commits after merging?</li>\n</ul>\n<p>There is a range of issues that can increase difficultly in tracking them.</p>\n<h2 id=\"how-can-we-track-all-commits\" style=\"position:relative;\"><a href=\"#how-can-we-track-all-commits\" aria-label=\"how can we track all commits permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How can we track all commits?</h2>\n<p>If all of these changes are being made under git, you can use <a href=\"https://git-scm.com/docs/githooks\">git-hooks</a>!</p>\n<p>These are small executable scripts you can write to trigger when you perform actions with git. They can even be written\nglobally to trigger in every git repo on your machine.</p>\n<p>Here is how to set up global post-commit hooks to write to record all commits.</p>\n<h2 id=\"global-post-commit-hooks\" style=\"position:relative;\"><a href=\"#global-post-commit-hooks\" aria-label=\"global post commit hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Global Post Commit Hooks</h2>\n<h3 id=\"1-initialize-global-template\" style=\"position:relative;\"><a href=\"#1-initialize-global-template\" aria-label=\"1 initialize global template permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Initialize Global Template</h3>\n<p>Firstly, globally set up git to use templates from the directory <code class=\"language-text\">.git-templates</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">git config --global init.templatedir &#39;~/.git-templates&#39;</code></pre></div>\n<h3 id=\"2-add-hooks-directory\" style=\"position:relative;\"><a href=\"#2-add-hooks-directory\" aria-label=\"2 add hooks directory permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Add Hooks Directory</h3>\n<p>Add a <code class=\"language-text\">hooks</code> directory. This is where all the global hooks can be stored:</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">mkdir ~/.git-templates/hooks</code></pre></div>\n<h3 id=\"3-write-your-hooks-\" style=\"position:relative;\"><a href=\"#3-write-your-hooks-\" aria-label=\"3 write your hooks  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Write Your Hooks ðŸ˜Ž</h3>\n<p>cd into the hooks directory, and create your hooks. For logging all my commits I use <code class=\"language-text\">git log</code> and write it to file:</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">#!/bin/sh\n# Replace the output path to your target destination\ngit log -1 &gt; $HOME/commit-logs/all-commits.txt</code></pre></div>\n<p>Feel free to adapt the log to whatever meta-data you would like to document (I'd recommend keeping the commit times).</p>\n<h3 id=\"4-make-hooks-executable\" style=\"position:relative;\"><a href=\"#4-make-hooks-executable\" aria-label=\"4 make hooks executable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Make Hooks Executable</h3>\n<p>Don't forget to make your hooks executable, otherwise, they won't work!</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">chmod +x ~/.git-templates/hooks/post-commit</code></pre></div>\n<h3 id=\"5-reinitialize-your-git-repos\" style=\"position:relative;\"><a href=\"#5-reinitialize-your-git-repos\" aria-label=\"5 reinitialize your git repos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Reinitialize Your Git Repos</h3>\n<p>You'll need to rerun <code class=\"language-text\">git init</code> in any existing git repos to get these new global updates. (This won't get remove of any\nof your local git hooks!)</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Keeping a centralised record of your commits is invaluable. This self-documenting method provides a tool for you to\nreflect on your work with contextual references on your thoughts at the time of writing.</p>\n<p>And finally, this seamlessly tracks and logs the dev side of customer work! (If you're commits are meaningful of course ðŸ˜„).</p>","frontmatter":{"date":"May 12, 2020","path":"/blog/git-post-commit-hooks","title":"Git Post Commit Hooks"}}},"pageContext":{}}}